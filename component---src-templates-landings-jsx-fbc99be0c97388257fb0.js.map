{"version":3,"sources":["webpack:///./src/components/layout/page_default_layout.module.scss","webpack:///./src/components/form.jsx","webpack:///./src/components/layout/PageDefaultLayout.jsx","webpack:///./src/templates/landings.jsx","webpack:///./src/components/form.module.scss","webpack:///./src/templates/landings.module.scss"],"names":["module","exports","Form","form_fields","label","productValues","useState","formEntries","saveFormEntries","formSent","setFormSent","formIsProcessing","setFormIsProcessing","formRef","useRef","api","useStaticQuery","wordpressSiteMetadata","url","handleFormEntry","e","target","name","value","ref","onSubmit","preventDefault","formData","FormData","console","log","str","regex0","Object","entries","key","append","RegExp","replace","fetch","method","body","then","response","json","data","current","reset","timeout","setTimeout","clearTimeout","handleSubmit","className","f","form","map","index","type","width","required","form_group","join","rows","toLowerCase","id","onChange","active","placeholder","message","success","l","btn","red","consent","to","PageDefaultLayout","children","breakOut","customClass","a","hero","backgroundImage","featured_media","image","contentWrapper","break_out","title","langCode","lang_code","LandingsPage","pageContext","wordpressPage","acf","landings_page","special_field","products","allWordpressWpProducts","nodes","allValues","setAllValues","product","onInput","evt","replaceAll","parseInt","checked","handleInput","htmlFor"],"mappings":"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","file":"component---src-templates-landings-jsx-fbc99be0c97388257fb0.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"page_default_layout-module--row--Dc3yf\",\"white\":\"page_default_layout-module--white--1NANR\",\"antra\":\"page_default_layout-module--antra--3AuOU\",\"red\":\"page_default_layout-module--red--1DW5w\",\"wrapper\":\"page_default_layout-module--wrapper--1dEpf\",\"container\":\"page_default_layout-module--container--3BQmc\",\"grid_2\":\"page_default_layout-module--grid_2--DgHZd\",\"grid_2_gap\":\"page_default_layout-module--grid_2_gap--3gqTb\",\"grid_3\":\"page_default_layout-module--grid_3--1FY4C\",\"centered\":\"page_default_layout-module--centered--2pdpn\",\"overlay\":\"page_default_layout-module--overlay--2-s2A\",\"btn\":\"page_default_layout-module--btn--3WseF\",\"spacer\":\"page_default_layout-module--spacer--7M-3R\",\"hero\":\"page_default_layout-module--hero--ktcpi\",\"contentWrapper\":\"page_default_layout-module--contentWrapper--3NvPh\",\"break_out\":\"page_default_layout-module--break_out--KcorV\"};","import React, { useState, useRef } from \"react\"\nimport { useStaticQuery, graphql, Link } from \"gatsby\"\n\nimport f from \"./form.module.scss\"\nimport l from \"./../components/layout/layout.module.scss\"\n\nconst Form = ({ form_fields, label, productValues = \"\" }) => {\n  const [formEntries, saveFormEntries] = useState({})\n  const [formSent, setFormSent] = useState(false)\n  const [formIsProcessing, setFormIsProcessing] = useState(false)\n\n  const formRef = useRef()\n\n  const { url } = useStaticQuery(\n    graphql`\n      query {\n        wordpressSiteMetadata {\n          url\n        }\n      }\n    `\n  ).wordpressSiteMetadata\n\n  const api = `${url}/wp-content/uploads/mailer/index.php`\n\n  const handleFormEntry = e => {\n    saveFormEntries({\n      ...formEntries,\n      [e.target.name]: e.target.value,\n    })\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n\n    const formData = new FormData()\n\n    // Product values if present\n    if (productValues) {\n      console.log(productValues)\n    }\n\n    // Add form entries\n    const sanitize = str => {\n      // this regex selects all characters except [a-z] and [0-9] and _\n      let regex0 = RegExp(/[^a-z|_|0-9]/, \"gi\")\n      return str.replace(\" \", \"_\").replace(regex0, \"\")\n    }\n\n    for (const [key, value] of Object.entries(formEntries)) {\n      formData.append(sanitize(key), value)\n    }\n\n    setFormIsProcessing(true)\n    fetch(api, {\n      method: \"POST\",\n      body: formData,\n    })\n      .then(response => response.json())\n      .then(data => {\n        //Handle your data\n        if (data === \"success\") {\n          // reset state container entries and form itself\n          formRef.current.reset()\n          saveFormEntries({})\n\n          setFormIsProcessing(false)\n          setFormSent(true)\n\n          // remove success message after 5 seconds\n          let timeout = setTimeout(() => {\n            setFormSent(false)\n            clearTimeout(timeout)\n          }, 5000)\n        }\n      })\n  }\n\n  return (\n    <form ref={formRef} onSubmit={e => handleSubmit(e)} className={f.form}>\n      {form_fields.map(({ type, label, width, required }, index) => (\n        <div\n          key={index}\n          className={[f[`w${width.replace(\"%\", \"\")}`], f.form_group].join(\" \")}\n        >\n          {type === \"textarea\" ? (\n            <textarea\n              rows=\"3\"\n              name={label.toLowerCase()}\n              id={label.toLowerCase()}\n              onChange={e => handleFormEntry(e)}\n              required={required}\n              className={formEntries[label.toLowerCase()] && f.active}\n              placeholder={label}\n            ></textarea>\n          ) : (\n            <input\n              type={type}\n              name={label.toLowerCase()}\n              id={label.toLowerCase()}\n              onChange={e => handleFormEntry(e)}\n              required={required}\n              className={formEntries[label.toLowerCase()] && f.active}\n              placeholder={label}\n            />\n          )}\n        </div>\n      ))}\n      <div className={[f.message, formSent && f.success].join(\" \")}>\n        Uw aanvraag werd successvol verstuurd!\n      </div>\n      <button className={[l.btn, l.red].join(\" \")}>\n        {formIsProcessing ? \"Verwerken...\" : label || \"Verstuur\"}\n      </button>\n      <div className={f.consent}>\n        <p>\n          Met het versturen van dit formulier gaat u akkoord met onze{\" \"}\n          <Link to=\"/privacyverklaring\">privacyverklaring</Link>\n        </p>\n      </div>\n    </form>\n  )\n}\n\nexport default Form\n","import React from \"react\"\n\nimport Row from \"../row\"\nimport Layout from \"./layout\"\n\nimport a from \"./page_default_layout.module.scss\"\n\nconst PageDefaultLayout = ({ data, children, breakOut = false }) => {\n  return !breakOut ? (\n    <Layout langCode={data.lang_code}>\n      <Row\n        customClass={a.hero}\n        backgroundImage={data.featured_media || data.image}\n      ></Row>\n      <Row>\n        <div className={a.contentWrapper}>\n          <h1>{data.title}</h1>\n          {children}\n        </div>\n      </Row>\n    </Layout>\n  ) : (\n    <>\n      <Row\n        customClass={a.hero}\n        backgroundImage={data.featured_media || data.image}\n      ></Row>\n      <Row>\n        <div className={[a.contentWrapper, a.break_out].join(\" \")}>\n          <h1>{data.title}</h1>\n          {children}\n        </div>\n      </Row>\n    </>\n  )\n}\n\nexport default PageDefaultLayout\n","import React, { useState } from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport PageDefaultLayout from \"../components/layout/PageDefaultLayout\"\nimport Form from \"../components/form\"\n\nimport l from \"./landings.module.scss\"\n\n/**\n * Template for simple landingspages that contain a form\n * @param pageContext contains language slug and wordpress_id\n * @param data contains results in-template Graphql query based on wordpress_id above\n */\nconst LandingsPage = ({ pageContext, data }) => {\n  const { image, special_field, form } = data.wordpressPage.acf.landings_page\n  const products = data.allWordpressWpProducts.nodes\n\n  const [allValues, setAllValues] = useState({})\n\n  const handleInput = (evt, title, type) => {\n    title = title.toLowerCase().replaceAll(\" \", \"_\")\n\n    // Reject input update when quantity is below 0\n    /**\n     * @todo Instead of modifying input value directly on object, let value inherit from state\n     */\n    if (type === \"number\" && parseInt(evt.target.value) < 0) {\n      return (evt.target.value = 0)\n    }\n    setAllValues({\n      ...allValues,\n      [title]: type === \"checkbox\" ? evt.target.checked : evt.target.value,\n    })\n  }\n\n  return (\n    <PageDefaultLayout data={{ ...pageContext, title: form.title, image }}>\n      <div className={l.products}>\n        {products.map(({ acf }) => (\n          <div className={l.form_group} key={acf.product.title}>\n            <input\n              name={acf.product.title}\n              id={acf.product.title}\n              type={special_field === \"checkbox\" ? \"checkbox\" : \"number\"}\n              onInput={e => handleInput(e, acf.product.title, special_field)}\n              placeholder={special_field && \"0 stelen\"}\n            />\n            <label htmlFor={acf.product.title}>{acf.product.title}</label>\n          </div>\n        ))}\n      </div>\n      <Form {...form} productValues={allValues} />\n    </PageDefaultLayout>\n  )\n}\n\nexport default LandingsPage\n\n/**\n * Asynchronously gets page data based on wordpress_id (passed from gatsby-node.js)\n * @param {Number} $wordpress_id - Id of the page\n * @returns {Object} data in format we queried it\n */\n\nexport const data = graphql`\n  query LandinsPageQuery($wordpress_id: Int, $lang_code: String) {\n    wordpressPage(wordpress_id: { eq: $wordpress_id }) {\n      acf {\n        landings_page {\n          special_field\n          image {\n            ...Background\n          }\n          form {\n            title\n            label\n            form_fields {\n              width\n              type\n              required\n              label\n            }\n          }\n        }\n      }\n    }\n    allWordpressWpProducts(filter: { lang_code: { eq: $lang_code } }) {\n      nodes {\n        acf {\n          product {\n            title\n          }\n        }\n      }\n    }\n  }\n`\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"form-module--row--2mWvl\",\"white\":\"form-module--white--2i5p7\",\"antra\":\"form-module--antra--1_ES9\",\"red\":\"form-module--red--2R4u7\",\"wrapper\":\"form-module--wrapper--2-MgS\",\"container\":\"form-module--container--sImBE\",\"grid_2\":\"form-module--grid_2--2Fgg-\",\"grid_2_gap\":\"form-module--grid_2_gap--1K50x\",\"grid_3\":\"form-module--grid_3--Qfkcl\",\"centered\":\"form-module--centered--3aSWs\",\"overlay\":\"form-module--overlay--2PLyp\",\"btn\":\"form-module--btn--dTvS_\",\"spacer\":\"form-module--spacer--4c6vt\",\"form\":\"form-module--form--3Zxjo\",\"form_group\":\"form-module--form_group--3sD0L\",\"w50\":\"form-module--w50--3KzQ1\",\"message\":\"form-module--message--88I6H\",\"success\":\"form-module--success--1o8Ma\",\"consent\":\"form-module--consent--2Ch78\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"landings-module--row--20iXe\",\"white\":\"landings-module--white--3ETpw\",\"antra\":\"landings-module--antra--1cIIx\",\"red\":\"landings-module--red--2cNza\",\"wrapper\":\"landings-module--wrapper--1X_ZK\",\"container\":\"landings-module--container--254Ew\",\"grid_2\":\"landings-module--grid_2--cpZus\",\"grid_2_gap\":\"landings-module--grid_2_gap--WX2Vs\",\"grid_3\":\"landings-module--grid_3--w305K\",\"centered\":\"landings-module--centered--2PjSJ\",\"overlay\":\"landings-module--overlay--kGop2\",\"btn\":\"landings-module--btn--oOZGa\",\"spacer\":\"landings-module--spacer--1J7o9\",\"products\":\"landings-module--products--3wn-Z\",\"form_group\":\"landings-module--form_group--OXCwW\"};"],"sourceRoot":""}