{"version":3,"sources":["webpack:///./src/components/layout/page_default_layout.module.scss","webpack:///./src/components/form.jsx","webpack:///./src/components/layout/PageDefaultLayout.jsx","webpack:///./src/components/notice.jsx","webpack:///./src/templates/landings.jsx","webpack:///./src/components/form.module.scss","webpack:///./src/templates/landings.module.scss"],"names":["module","exports","Form","form_fields","label","label_active","confirmation","submit_url","privacy_notice","productValues","resetHandler","src","useState","formEntries","saveFormEntries","formSent","setFormSent","formIsProcessing","setFormIsProcessing","formRef","useRef","handleFormEntry","e","target","name","value","autoComplete","ref","onSubmit","preventDefault","formData","str","regex0","Object","entries","key","RegExp","split","join","replace","fetch","process","method","body","JSON","stringify","headers","Accept","then","response","json","data","navigate","current","reset","timeout","setTimeout","clearTimeout","handleSubmit","className","f","form","map","index","type","width","required","form_group","rows","toLowerCase","id","onChange","active","placeholder","message","success","l","btn","red","dangerouslySetInnerHTML","__html","consent","PageDefaultLayout","children","breakOut","customClass","a","hero","backgroundImage","featured_media","image","contentWrapper","break_out","title","pageContext","meta","yoast_head_json","lang","lang_code","Notice","notice","LandingsPage","wordpressPage","acf","offerte_placeholder","proefbos_notice","intro_text","landings_page","special_field","products","allWordpressWpProducts","nodes","el","product","allValues","setAllValues","evt","parseInt","checked","handleInput","htmlFor"],"mappings":"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","file":"component---src-templates-landings-jsx-cab8fddd45688fa248be.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"hero\":\"page_default_layout-module--hero--ktcpi\",\"contentWrapper\":\"page_default_layout-module--contentWrapper--3NvPh\",\"break_out\":\"page_default_layout-module--break_out--KcorV\"};","import React, { useState, useRef } from \"react\"\nimport { navigate } from \"gatsby\"\n\nimport f from \"./form.module.scss\"\nimport l from \"./../components/layout/layout.module.scss\"\n\nconst Form = ({\n  form_fields,\n  label,\n  label_active,\n  confirmation,\n  submit_url,\n  privacy_notice,\n  productValues = \"\",\n  resetHandler = \"\",\n  src = \"\",\n}) => {\n  const [formEntries, saveFormEntries] = useState({})\n  const [formSent, setFormSent] = useState(false)\n  const [formIsProcessing, setFormIsProcessing] = useState(false)\n\n  const formRef = useRef()\n\n  const api = process.env.FORM_API\n\n  const handleFormEntry = e => {\n    saveFormEntries({\n      ...formEntries,\n      [e.target.name]: e.target.value,\n    })\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n\n    const formData = {}\n\n    // Product values if present\n    if (productValues) {\n      formData[\"products\"] = productValues\n    }\n\n    // Add form entries\n    const sanitize = str => {\n      // this regex selects all characters except [a-z] and [0-9] and _\n      let regex0 = RegExp(/[^a-z|_|0-9]/, \"gi\")\n      return str.split(\" \").join(\"_\").replace(regex0, \"\")\n    }\n\n    for (const [key, value] of Object.entries(formEntries)) {\n      formData[sanitize(key)] = value\n    }\n\n    // Add source page\n    formData[\"source\"] = src\n\n    setFormIsProcessing(true)\n    fetch(api, {\n      method: \"POST\",\n      body: JSON.stringify(formData),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then(response => response.json())\n      .then(data => {\n        //Handle your data\n        if (data === \"success\") {\n          if (submit_url) {\n            navigate(submit_url)\n          } else {\n            // reset state container entries and form itself\n            formRef.current.reset()\n            saveFormEntries({})\n            // Resets offerte/proefbos inputs\n            resetHandler && resetHandler()\n\n            setFormIsProcessing(false)\n            setFormSent(true)\n\n            // remove success message after 5 seconds\n            let timeout = setTimeout(() => {\n              setFormSent(false)\n              clearTimeout(timeout)\n            }, 5000)\n          }\n        }\n      })\n  }\n\n  return (\n    <form\n      autoComplete=\"offf\"\n      ref={formRef}\n      onSubmit={e => handleSubmit(e)}\n      className={f.form}\n    >\n      {form_fields.map(({ type, label, width, required }, index) => (\n        <div\n          key={index}\n          className={[f[`w${width.replace(\"%\", \"\")}`], f.form_group].join(\" \")}\n        >\n          {type === \"textarea\" ? (\n            <textarea\n              rows=\"3\"\n              name={label.toLowerCase()}\n              id={label.toLowerCase()}\n              onChange={e => handleFormEntry(e)}\n              required={required}\n              className={formEntries[label.toLowerCase()] && f.active}\n              placeholder={label}\n            ></textarea>\n          ) : (\n            <input\n              type={type}\n              name={label.toLowerCase()}\n              id={label.toLowerCase()}\n              onChange={e => handleFormEntry(e)}\n              required={required}\n              className={formEntries[label.toLowerCase()] && f.active}\n              placeholder={label}\n            />\n          )}\n        </div>\n      ))}\n      <div className={[f.message, formSent && f.success].join(\" \")}>\n        {confirmation}\n      </div>\n      <button className={[l.btn, l.red].join(\" \")}>\n        {formIsProcessing ? label_active : label || \"Verstuur\"}\n      </button>\n      <div\n        dangerouslySetInnerHTML={{ __html: privacy_notice }}\n        className={f.consent}\n      ></div>\n    </form>\n  )\n}\n\nexport default Form\n","import React from \"react\"\n\nimport Row from \"../row\"\nimport Layout from \"./layout\"\n\nimport a from \"./page_default_layout.module.scss\"\nimport SEO from \"../seo\"\n\nconst PageDefaultLayout = ({ data, children, breakOut = false }) => {\n  return !breakOut ? (\n    <Layout pageContext={data}>\n      <SEO meta={ data.yoast_head_json} lang={data.lang_code }\n      />\n      <Row\n        customClass={a.hero}\n        backgroundImage={data.featured_media || data.image}\n      ></Row>\n      <Row>\n        <div className={a.contentWrapper}>\n          <h1>{data.title}</h1>\n          {children}\n        </div>\n      </Row>\n    </Layout>\n  ) : (\n    <>\n      <Row\n        customClass={a.hero}\n        backgroundImage={data.featured_media || data.image}\n      ></Row>\n      <Row>\n        <div className={[a.contentWrapper, a.break_out].join(\" \")}>\n          <h1>{data.title}</h1>\n          {children}\n        </div>\n      </Row>\n    </>\n  )\n}\n\nexport default PageDefaultLayout\n","import React from \"react\"\n\nimport l from \"./layout/layout.module.scss\"\n\nconst Notice = ({ children }) => {\n  return children && <div className={l.notice}>{children}</div>\n}\n\nexport default Notice\n","import React, { useState } from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport PageDefaultLayout from \"../components/layout/PageDefaultLayout\"\nimport Form from \"../components/form\"\nimport Notice from \"../components/notice\"\n\nimport l from \"./landings.module.scss\"\n\n/**\n * Template for simple landingspages that contain a form\n * @param pageContext contains language slug and wordpress_id\n * @param data contains results in-template Graphql query based on wordpress_id above\n */\nconst LandingsPage = ({ pageContext, data }) => {\n  const {\n    offerte_placeholder = \"\",\n    proefbos_notice = \"\",\n    intro_text = \"\",\n    landings_page,\n  } = data.wordpressPage.acf\n  const { image, special_field, form } = landings_page\n  const products = data.allWordpressWpProducts.nodes.map(el => [\n    el.acf.product.title.toLowerCase().replace(/\" \"/g, \"_\"),\n    el.acf.product.title,\n  ])\n\n  const [allValues, setAllValues] = useState({})\n\n  const handleInput = (evt, title, type) => {\n    // Reject input update when quantity is below 0\n    if (type === \"number\" && parseInt(evt.target.value) < 0) return\n    setAllValues({\n      ...allValues,\n      [title]: type === \"checkbox\" ? evt.target.checked : evt.target.value,\n    })\n  }\n\n  return (\n    <PageDefaultLayout data={{ ...pageContext, title: form.title, image }}>\n      {intro_text && <div className={l.intro_text}>{intro_text}</div>}\n      <div className={l.products}>\n        {products.map(([title, label]) => (\n          <div className={l.form_group} key={title}>\n            <input\n              name={title}\n              id={title}\n              type={special_field === \"checkbox\" ? \"checkbox\" : \"number\"}\n              onChange={e => handleInput(e, title, special_field)}\n              value={allValues[title] || \"\"}\n              placeholder={special_field && offerte_placeholder}\n            />\n            <label htmlFor={title}>{label}</label>\n          </div>\n        ))}\n      </div>\n      <Notice>{proefbos_notice}</Notice>\n      <Form\n        {...form}\n        src={special_field === \"checkbox\" ? \"proefbos\" : \"offerte\"}\n        productValues={allValues}\n        resetHandler={() => setAllValues({})}\n      />\n    </PageDefaultLayout>\n  )\n}\n\nexport default LandingsPage\n\n/**\n * Asynchronously gets page data based on wordpress_id (passed from gatsby-node.js)\n * @param {Number} $wordpress_id - Id of the page\n * @returns {Object} data in format we queried it\n */\n\nexport const data = graphql`\n  query LandinsPageQuery($wordpress_id: Int, $lang_code: String) {\n    wordpressPage(wordpress_id: { eq: $wordpress_id }) {\n      acf {\n        offerte_placeholder\n        proefbos_notice\n        intro_text\n        landings_page {\n          special_field\n          image {\n            ...Background\n          }\n          form {\n            title\n            label\n            label_active\n            form_fields {\n              width\n              type\n              required\n              label\n            }\n            privacy_notice\n            confirmation\n          }\n        }\n      }\n    }\n    allWordpressWpProducts(filter: { lang_code: { eq: $lang_code } }) {\n      nodes {\n        acf {\n          product {\n            title\n          }\n        }\n      }\n    }\n  }\n`\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"form-module--form--3Zxjo\",\"form_group\":\"form-module--form_group--3sD0L\",\"w50\":\"form-module--w50--3KzQ1\",\"message\":\"form-module--message--88I6H\",\"success\":\"form-module--success--1o8Ma\",\"consent\":\"form-module--consent--2Ch78\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"intro_text\":\"landings-module--intro_text--1U3IW\",\"products\":\"landings-module--products--3wn-Z\",\"form_group\":\"landings-module--form_group--OXCwW\"};"],"sourceRoot":""}